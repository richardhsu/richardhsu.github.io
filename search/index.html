<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <title>Search</title>
  <meta name="author" content="Richard Hsu">
  <meta name="keywords" content="richard hsu, blog, ideas, thoughts, performance" />
  <meta name="description" content="Exploring life, coding, food, and adventures!" />
  <meta name="viewport" content="width=device-width" />
  <meta name="google-site-verification" content="OmxMsLFmNXKOxX9hZRyFW9sZcita0lpB6lfqUuZQxZs" />
  <link href="https://fonts.googleapis.com/css?family=Karla:400,400i,700,700i" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://www.richardhsu.me/css/syntax.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="https://www.richardhsu.me/css/style.css" type="text/css" media="screen, projection" />
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <link rel="shortcut icon" href="https://www.richardhsu.me/images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="header">
  <div class="container">
    <div class="content-jar clearfix center">
      <div class="avatar"><img src="https://www.richardhsu.me/images/profile.png" height="100" width="100" /></div>
      <div class="description">
        <strong>Exploring life, coding, food, and adventures!</strong>
      </div>
      <ul class="pages">
        <li><a href="https://www.richardhsu.me/"><i class="fa fa-home"></i> Home</a></li>
        <!-- <li><a href="https://www.richardhsu.me/tag/"><i class="fa fa-tag"></i> Tags</a></li> -->
        <li><a href="https://www.richardhsu.me/search/"><i class="fa fa-search"></i> Search Blog</a></li>
      </ul>
    </div>
  </div>
</div>
<div id="feed">
  <div class="container">
    <div class="content-jar">
      <!-- Beginning of Posts Listing -->
      <div id="search-searchbar"></div>
<div id="search-hits"></div>
<div id="pagination"></div>

<!-- Including InstantSearch.js library and styling -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.3/dist/instantsearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.0/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.3/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.3/dist/instantsearch-theme-algolia.min.css">

<script>
// Instanciating InstantSearch.js with Algolia credentials
const search = instantsearch({
  appId: '5HK1S8TFEN',
  indexName: 'prod-richardhsu-me-jekyll',
  apiKey: '348ef549e78986899861fda13f7c039d'
});

// Adding configuration
search.addWidget(
  instantsearch.widgets.configure({
    hitsPerPage: 5,
    filters: '(type:post)',
  })
);

// Adding searchbar and results widgets
search.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-searchbar',
    placeholder: 'Search posts...',
    poweredBy: true // This is required if you're on the free Community plan
  })
);
search.addWidget(
  instantsearch.widgets.hits({
    container: '#search-hits',
    transformData: {
      allItems: function(hits) {
        return hits.filter(hit.type == "post");
      }
    },
    templates: {
      empty: 'No posts found',
      item: function(hit) {
        var tags = '';
        for (var i = 0; i < hit.tags.length; i++) {
          tags += '<a href="/tag/' + hit.tags[i].replace(' ', '-').toLowerCase() + '" rel="tag">' +
                  hit.tags[i] + '</a>';
          if (i < hit.tags.length - 1) {
            tags += ', ';
          }
        }
        return `
        <div class="post">
          <div class="post-header">
            <h1><a href="${hit.url}">${hit._highlightResult.title.value}</a></h1>
            <span class="post-date"><i class="fa fa-calendar"></i> ${moment.unix(hit.date).format('MMM D, YYYY')}</span>
            <span class="post-tags"><i class="fa fa-tag"></i>
              ${tags}
            </span>
          </div>
          <p>${hit._highlightResult.excerpt_html.value}</p>
          <a href="${hit.url}">Continue reading &rarr;</a>
        </div>
        `;
      }
    }
  })
);
search.addWidget(
  instantsearch.widgets.pagination({
    container: '#pagination',
    maxPages: 20,
    scrollTo: false,
    labels: {
      previous: 'Previous',
      next: 'Next',
      first: 'First',
      last: 'Last',
    }
  })
);

// Starting the search
search.start();
</script>


      <!-- /End Posts Listing -->
      <br />
      <div class="center">
        <a href="http://fontawesome.io">Font Awesome</a> by Dave Gandy
      </div>
      <br />
      <div>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- responsive -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-0877100694764684"
             data-ad-slot="5749193711"
             data-ad-format="auto"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
    </div>
  </div>
</div>
<!-- Tracking Code -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51347261-1', 'richardhsu.me');
  ga('send', 'pageview');
</script>
<!-- /Tracking Code -->
</body>
</html>
